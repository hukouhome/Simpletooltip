/*!
 * SimpleTooltip: show a tooltip in diferents directions from reference
 * carlos.sanz@gmail.com
 * for more info about the plugin please visit: http://github.com/not-only-code/Simpletooltip
**/(function(e){function t(e){window.console&&console.debug(e)}function a(e){for(var t=0;t<s.length;t++)if(e.hasClass(s[t]))return s[t];return r.direction}function f(t){var n=o[t.data.index],r;if(n.length){r=u.replace("%index",t.data.index);r=r.replace("%position",a(e(t.target)));r=r.replace("%title",n);return r}return!1}function l(t){var n=e(this),r="#simple-tooltip-"+t.data.index,i=f(t),s=h(n,"fade");if(i){var o=e("body").find(r);if(o.length){t.preventDefault();return!1}e(i).appendTo(e("body"));var u=e("body").find(r);u.hide();p(u,n);s?u.delay(180).fadeIn(200):u.show()}t.preventDefault()}function c(t){t.preventDefault();var n=e("body").find("#simple-tooltip-"+t.data.index),r=h(e(this),"fade");if(n.length===0)return!1;if(n.css("opacity")===0){n.remove();return!1}r?n.clearQueue().stop().fadeOut(100,function(){n.remove()}):n.remove()}function h(e,t){var n="simpletooltip-"+t.replace("_","-");return e.data(n)?e.data(n):r[t]?r[t]:!1}function p(e,t){var n=t.offset(),s=e.find(" > .arrow"),o=h(t,"background_color"),u=h(t,"border_color"),f=h(t,"border_width");f=typeof f=="boolean"||f==="none"?0:Number(f);var l=f?u:o,c=Math.round(r.arrow_width*3/4),p=-parseInt(r.arrow_width*2+f,10),d=-parseInt(c*2+f,10);e.css({maxWidth:h(t,"max_width"),backgroundColor:o,color:h(t,"color"),borderColor:u,borderWidth:f});switch(a(t)){case"top-right":n.top-=parseInt(e.outerHeight()+i.bottom,10);n.left+=parseInt(t.outerWidth()-i.right-i.border,10);s.css({left:r.padding.width-f,borderWidth:c,bottom:d,borderTopColor:l,borderLeftColor:l});break;case"right-top":n.top-=parseInt(e.outerHeight()-i.bottom,10);n.left+=parseInt(t.outerWidth()+i.right,10);s.css({bottom:r.padding.height-f,borderWidth:c,left:d,borderRightColor:l,borderBottomColor:l});break;case"right":n.top+=parseInt((t.outerHeight()-e.outerHeight())/2,10);n.left+=parseInt(t.outerWidth()+i.right,10);s.css({left:p,borderRightColor:l,marginTop:-r.arrow_width});break;case"right-bottom":n.top+=parseInt(t.outerHeight()-i.bottom,10);n.left+=parseInt(t.outerWidth()+i.right,10);s.css({top:r.padding.height-f,borderWidth:c,left:d,borderRightColor:l,borderTopColor:l});break;case"bottom-right":n.top+=parseInt(t.outerHeight()+i.bottom,10);n.left+=parseInt(t.outerWidth()-i.right-i.border,10);s.css({left:r.padding.width-f,borderWidth:c,top:d,borderBottomColor:l,borderLeftColor:l});break;case"bottom":n.top+=parseInt(t.outerHeight()+i.bottom,10);n.left+=parseInt((t.outerWidth()-e.outerWidth())/2,10);s.css({top:p,marginLeft:-r.arrow_width,borderBottomColor:l});break;case"bottom-left":n.top+=parseInt(t.outerHeight()+i.bottom,10);n.left-=parseInt(e.outerWidth()-i.left-i.border,10);s.css({right:r.padding.width-f,borderWidth:c,top:d,borderBottomColor:l,borderRightColor:l});break;case"left-bottom":n.top+=parseInt(t.outerHeight()-i.bottom,10);n.left-=parseInt(e.outerWidth()+i.left,10);s.css({top:r.padding.height-f,borderWidth:c,right:d,borderLeftColor:l,borderTopColor:l});break;case"left":n.top+=parseInt((t.outerHeight()-e.outerHeight())/2,10);n.left-=parseInt(e.outerWidth()+i.left,10);s.css({right:p,borderLeftColor:l,marginTop:-r.arrow_width});break;case"left-top":n.top-=parseInt(e.outerHeight()-i.bottom,10);n.left-=parseInt(e.outerWidth()+i.left,10);s.css({bottom:r.padding.height-f,borderWidth:c,right:d,borderLeftColor:l,borderBottomColor:l});break;case"top-left":n.top-=parseInt(e.outerHeight()+i.bottom,10);n.left-=parseInt(e.outerWidth()-i.left,10);s.css({right:r.padding.width-f,borderWidth:c,bottom:d,borderTopColor:l,borderRightColor:l});break;default:n.top-=parseInt(e.outerHeight()+i.top,10);n.left+=parseInt((t.outerWidth()-e.outerWidth())/2,10);s.css({bottom:p,borderTopColor:l,marginLeft:-r.arrow_width})}e.css({top:n.top,left:n.left})}function d(){e(".simpletooltip").each(function(t){e(this).css("cursor","pointer");o[t]=e(this).attr("title");e(this).attr("title","");e(this).on("mouseenter",{index:t},l);e(this).on("mouseleave",{index:t},c)})}var n={direction:"top",color:"#cccccc",background_color:"#222222",border_color:"#111111",border_width:2,arrow_width:6,padding:{width:8,height:6},max_width:200,fade:!0,position:{}},r,i={border:6,top:15,right:15,bottom:15,left:15},s=["top","top-right","right-top","right","right-bottom","bottom-right","bottom","bottom-left","left-bottom","left","left-top","top-left"],o=[],u='<div id="simple-tooltip-%index" class="simple-tooltip %position">%title<span class="arrow">&nbsp;</span></div>';e.simpletooltip=function(i){r=e.extend(n,i);t(r);d()}})(jQuery);